#pragma checksum "C:\Users\Jostin\source\repos\UniversidadNet\UniversidadNet\UniversidadNet\PruebaCodigoNet\Views\ListaUniversidades\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "b696ea33e1e7345d6cb4dafc8788a23721fac1c0"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(PruebaCodigoNet.Models.ListaUniversidades.Views_ListaUniversidades_Index), @"mvc.1.0.view", @"/Views/ListaUniversidades/Index.cshtml")]
namespace PruebaCodigoNet.Models.ListaUniversidades
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\Jostin\source\repos\UniversidadNet\UniversidadNet\UniversidadNet\PruebaCodigoNet\Views\_ViewImports.cshtml"
using PruebaCodigoNet;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Jostin\source\repos\UniversidadNet\UniversidadNet\UniversidadNet\PruebaCodigoNet\Views\_ViewImports.cshtml"
using DevExtreme.AspNet.Mvc;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"b696ea33e1e7345d6cb4dafc8788a23721fac1c0", @"/Views/ListaUniversidades/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"c7ce9add5fa49f86ab02499130e684fd79b6ca83", @"/Views/_ViewImports.cshtml")]
    public class Views_ListaUniversidades_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("<h2>Consulta las Universidades de Todos Los Paises</h2>\r\n<div>\r\n\r\n\r\n    <div class=\"row my-2\">\r\n        <div class=\"col-md-4\">\r\n            Seleccione Pais :\r\n        </div>\r\n        <div class=\"col-md-4\">\r\n            ");
#nullable restore
#line 10 "C:\Users\Jostin\source\repos\UniversidadNet\UniversidadNet\UniversidadNet\PruebaCodigoNet\Views\ListaUniversidades\Index.cshtml"
        Write(Html.DevExtreme().DropDownBox()
                    .ID("pais")

             .DisplayExpr(new JS("gridBox_displayExpr2"))
             .DataSource(d => d.Mvc()
                 .Controller("ListaUniversidades")
                 .LoadAction("SearchUniCountry")
                 .LoadMode(DataSourceLoadMode.Raw)
                 .Key("Name")

             )
             .Placeholder("Seleccione Pais")
             .ShowClearButton(true)
             .OnValueChanged("gridBox_valueChanged2")
             .ContentTemplate(new TemplateName("EmbeddedDataGridSingle2"))
                );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n        </div>\r\n        <div class=\"col-md-8\">\r\n            ");
#nullable restore
#line 28 "C:\Users\Jostin\source\repos\UniversidadNet\UniversidadNet\UniversidadNet\PruebaCodigoNet\Views\ListaUniversidades\Index.cshtml"
        Write(Html.DevExtreme().Button()
        .ID("Buscar")
        .Text("Buscar")
        .Type(ButtonType.Normal)
        .OnClick("OnclickBuscar")
    );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n          \r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n");
#nullable restore
#line 40 "C:\Users\Jostin\source\repos\UniversidadNet\UniversidadNet\UniversidadNet\PruebaCodigoNet\Views\ListaUniversidades\Index.cshtml"
 using (Html.DevExtreme().NamedTemplate("EmbeddedDataGridSingle2"))
{
    

#line default
#line hidden
#nullable disable
#nullable restore
#line 42 "C:\Users\Jostin\source\repos\UniversidadNet\UniversidadNet\UniversidadNet\PruebaCodigoNet\Views\ListaUniversidades\Index.cshtml"
Write(Html.DevExtreme().DataGrid()
        .ID("embedded-datagrid2")
        .DataSource(new JS(@"component.getDataSource()"))
        .HoverStateEnabled(true)
        .Paging(p => p.PageSize(10))
        .FilterRow(f => f.Visible(true))
        .Scrolling(s => s.Mode(GridScrollingMode.Virtual))
        .Height(345)
        .Selection(s => s.Mode(SelectionMode.Single))
        .SelectedRowKeys(new JS(@"component.option(""value"") ? [component.option(""value"")] : []"))
        .OnSelectionChanged(item => new global::Microsoft.AspNetCore.Mvc.Razor.HelperResult(async(__razor_template_writer) => {
    PushWriter(__razor_template_writer);
    WriteLiteral("\r\n            function(selectedItems) {\r\n                var keys = selectedItems.selectedRowKeys;\r\n                component.option(\"value\", keys);\r\n                component.close();\r\n            }\r\n        ");
    PopWriter();
}
))
    );

#line default
#line hidden
#nullable disable
#nullable restore
#line 59 "C:\Users\Jostin\source\repos\UniversidadNet\UniversidadNet\UniversidadNet\PruebaCodigoNet\Views\ListaUniversidades\Index.cshtml"
     
}

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n\r\n");
#nullable restore
#line 63 "C:\Users\Jostin\source\repos\UniversidadNet\UniversidadNet\UniversidadNet\PruebaCodigoNet\Views\ListaUniversidades\Index.cshtml"
Write(Html.DevExtreme().LoadPanel()
        .ID("loadPanel")
        .Position(p => p.Of("#gridContainer"))
        .Visible(false)
);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 68 "C:\Users\Jostin\source\repos\UniversidadNet\UniversidadNet\UniversidadNet\PruebaCodigoNet\Views\ListaUniversidades\Index.cshtml"
Write(Html.DevExtreme().DataGrid<Models.Universidades>()
    .ID("gridContainer")
    .ShowBorders(true)
    .RepaintChangesOnly(true)
    .LoadPanel(loadPanel => loadPanel.Enabled(false))
     .AllowColumnResizing(true)
                                            .ColumnAutoWidth(true)
                                                .AllowColumnReordering(true)
                                            .AllowColumnResizing(true)
                                             .SearchPanel(searchPanel => searchPanel
                                            .Visible(true)

                                            .Width(240)
                                            .Placeholder("Busqueda"))

                                              .Columns(columns =>
                                              {
                                                  columns.AddFor(m => m.Name).Caption("Universidad");
                                                  columns.AddFor(m => m.Domains).Caption("Dominio");
                                                  columns.AddFor(m => m.web_pages).Caption("Pagina Web");
                                                  columns.AddFor(m => m.Imagen).Caption("Imagen");
                                                  columns.AddFor(m => m.favorito).DataType(GridColumnDataType.Boolean);




                                              })
                                              .HoverStateEnabled(true)
                                             .ShowBorders(true)
    .Scrolling(scrolling => scrolling.RowRenderingMode(GridRowRenderingMode.Virtual))
    .Paging(paging => paging.PageSize(10))
    .Pager(pager =>
    {
        pager.Visible(true);
        pager.ShowPageSizeSelector(true);
        pager.AllowedPageSizes(new JS("[5, 10, 50]"));
        pager.ShowInfo(true);
        pager.ShowNavigationButtons(true);
    })
     .Selection(s => s.Mode(SelectionMode.Single))
    .FilterRow(f => f.Visible(true))


                                        .OnSelectionChanged( item => new global::Microsoft.AspNetCore.Mvc.Razor.HelperResult(async(__razor_template_writer) => {
    PushWriter(__razor_template_writer);
    WriteLiteral(@"

                                            function selection_changed(selectedItems) {
                                                var data = selectedItems.selectedRowsData[0];
                                                if (data) {
                                                       AgregarProducto(data)
                                                    component.close();
                                                }
                                            }
                                        ");
    PopWriter();
}
))

);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"


<script>
    var dataGrid, loadPanel;




    function gridBox_valueChanged2(e) {
        var $dataGrid = $(""#embedded-datagrid2"");

        if ($dataGrid.length) {
            var dataGrid = $dataGrid.dxDataGrid(""instance"");
            dataGrid.selectRows(e.value, false);
        }
    }

    function gridBox_displayExpr2(item) {
        return item.Name;
    }

function OnclickBuscar() {
        dataGrid = $(""#gridContainer"").dxDataGrid(""instance"");
        loadPanel = $(""#loadPanel"").dxLoadPanel(""instance"");
        var paiss = $(""#pais"").dxDropDownBox(""instance"").option('value');
    var pais = String(paiss);
    loadPanel.show();

    sendRequest('");
#nullable restore
#line 151 "C:\Users\Jostin\source\repos\UniversidadNet\UniversidadNet\UniversidadNet\PruebaCodigoNet\Views\ListaUniversidades\Index.cshtml"
            Write(Url.RouteUrl(new { controller = "ListaUniversidades", action = "ConsultaPais", skip = 0 }));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"', ""GET"", { Pais: pais, })
            .always(() => { loadPanel.hide(); })
            .done((data) => {
                dataGrid.option(""pager.displayMode"", ""compact"");
                dataGrid.option(""dataSource"", data);
            });
    }


    function sendRequest(url, method, data) {
        var d = $.Deferred();

        method = method || ""GET"";

        $.ajax(url, {
            method: method,
            data: data,
            cache: false,
            xhrFields: { withCredentials: true }
        }).done(function (result) {
            d.resolve(method === ""GET"" ? result.data : result);
        }).fail(function (xhr) {
            d.reject(xhr.responseJSON ? xhr.responseJSON.Message : xhr.statusText);
        });

        return d.promise();
    };



    AgregarProducto = (Producto) => {

        if (Producto.favorito == false) {
            Producto.favorito = true;
            Swal.fire({
                position: 'top-end',
                icon: 'success'");
            WriteLiteral(@",
                title: 'AÃ±adido a Favorito',
                showConfirmButton: false,
                timer: 1500
            })
        } else {
            Producto.favorito = false;
            Swal.fire({
                position: 'top-end',
                icon: 'danger',
                title: 'Quitado de Favorito',
                showConfirmButton: false,
                timer: 1500
            })
            storage.removeItem(favoritos);
        }


        sendRequest('");
#nullable restore
#line 205 "C:\Users\Jostin\source\repos\UniversidadNet\UniversidadNet\UniversidadNet\PruebaCodigoNet\Views\ListaUniversidades\Index.cshtml"
                Write(Url.RouteUrl(new { controller = "ListaUniversidades", action = "Ingresar", skip = 0 }));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"', ""GET"", { nombre: Producto.Name, country: Producto.Country, web_pages: Producto.web_pages.toString(), Domains: Producto.Domains.toString(), Imagen: Producto.Imagen, favorito: Producto.favorito})
        .done((data) => {

        });
        window.localStorage.setItem(""favoritos"", JSON.stringify(Producto));

          dataGrid = $(""#gridContainer"").dxDataGrid(""instance"");
        loadPanel = $(""#loadPanel"").dxLoadPanel(""instance"");
        var paiss = $(""#pais"").dxDropDownBox(""instance"").option('value');
    var pais = String(paiss);
    loadPanel.show();

    sendRequest('");
#nullable restore
#line 217 "C:\Users\Jostin\source\repos\UniversidadNet\UniversidadNet\UniversidadNet\PruebaCodigoNet\Views\ListaUniversidades\Index.cshtml"
            Write(Url.RouteUrl(new { controller = "ListaUniversidades", action = "ConsultaPais", skip = 0 }));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"', ""GET"", { Pais: pais, })
            .always(() => { loadPanel.hide(); })
            .done((data) => {
                dataGrid.option(""pager.displayMode"", ""compact"");
                dataGrid.option(""dataSource"", data);
            });

}




</script>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
